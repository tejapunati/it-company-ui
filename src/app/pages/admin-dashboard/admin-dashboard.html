<div class="admin-dashboard">
  <!-- Modern Header with Gradient -->
  <header class="dashboard-header">
    <div class="header-content">
      <div class="title-section">
        <h1>{{ isParentAdmin() ? 'Parent Admin Dashboard' : 'Admin Dashboard' }}</h1>
        <p>{{ isParentAdmin() ? 'Manage users, admins, and system administration' : 'Manage users, timesheets, and system operations' }}</p>
      </div>
      <div class="user-section">
        <div class="user-info">
          <span class="greeting">Hello,</span>
          <span class="user-name">{{ getCurrentUserName() }}</span>
        </div>
        <button class="profile-btn" (click)="goToProfile()" title="Profile Settings">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M20 21V19A4 4 0 0 0 16 15H8A4 4 0 0 0 4 19V21" stroke="currentColor" stroke-width="2"/>
            <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Modern Navigation -->
  <div class="dashboard-nav">
    <button *ngIf="!isParentAdmin()" routerLink="/admin-dashboard/users" routerLinkActive="active">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
        <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
        <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
      </svg>
      Manage Users
    </button>
    <button *ngIf="isParentAdmin()" routerLink="/admin-dashboard/user-management" routerLinkActive="active">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
        <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
        <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
      </svg>
      User Management
    </button>
    <button *ngIf="isParentAdmin()" routerLink="/admin-dashboard/admin-management" routerLinkActive="active">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
      </svg>
      Admin Management
    </button>
    <button routerLink="/admin-dashboard/timesheets" routerLinkActive="active">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8.5 5.5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5 0 0 0 8.5 9V5.5z"/>
        <path d="M6.5 0a.5.5 0 0 0 0 1H7v1.07a7.001 7.001 0 0 0-3.273 12.474l-.602.602a.5.5 0 0 0 .707.708l.746-.746A6.97 6.97 0 0 0 8 16a6.97 6.97 0 0 0 3.422-.892l.746.746a.5.5 0 0 0 .707-.708l-.601-.602A7.001 7.001 0 0 0 9 2.07V1h.5a.5.5 0 0 0 0-1h-3zm1.038 3.018a6.093 6.093 0 0 1 .924 0 6 6 0 1 1-.924 0zM0 8.5A.5.5 0 0 1 .5 8H2a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zM13 8a.5.5 0 0 1 .5-.5H15a.5.5 0 0 1 0 1h-1.5A.5.5 0 0 1 13 8z"/>
      </svg>
      Timesheets
    </button>
    <button *ngIf="isParentAdmin()" routerLink="/admin-approval" routerLinkActive="active">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
      </svg>
      Admin Approvals
    </button>
    <button routerLink="/user-approvals" routerLinkActive="active">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l7-7zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0z"/>
        <path d="m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708z"/>
      </svg>
      User Approvals
    </button>
  </div>

  <!-- Stats Cards -->
  <div class="dashboard-stats">
    <div class="stat-card">
      <h3>Total Users</h3>
      <div class="stat-number">{{ totalUsers }}</div>
    </div>
    <div class="stat-card" *ngIf="isParentAdmin()">
      <h3>Total Admins</h3>
      <div class="stat-number">{{ totalAdmins }}</div>
    </div>
    <div class="stat-card">
      <h3>Pending Approvals</h3>
      <div class="stat-number">{{ pendingApprovals }}</div>
    </div>
    <div class="stat-card">
      <h3>Total Timesheets</h3>
      <div class="stat-number">{{ totalTimesheets }}</div>
    </div>
  </div>

  <!-- Dashboard Content -->
  <div class="dashboard-content">
    <div class="recent-activities">
      <h2>Recent Activities</h2>
      <div class="activity-list">
        <div class="activity-item" *ngFor="let activity of recentActivities">
          <span class="activity-icon">{{ activity.icon }}</span>
          <span class="activity-description">{{ activity.description }}</span>
          <span class="activity-time">{{ activity.timestamp | date:'short' }}</span>
        </div>
        
        <div *ngIf="recentActivities.length === 0" class="empty-state">
          <p>No recent activities to display.</p>
        </div>
      </div>
    </div>
    
    <div class="recent-emails">
      <app-email-widget [maxEmails]="5"></app-email-widget>
    </div>

    <div class="quick-actions">
      <h2>Quick Actions</h2>
      <div class="action-buttons">
        <button class="action-btn" routerLink="/admin-dashboard/add-user">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
          </svg>
          Add New User
        </button>
        <button class="action-btn" routerLink="/user-approvals">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l7-7zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0z"/>
            <path d="m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708z"/>
          </svg>
          Review User Approvals
        </button>
        <button class="action-btn" routerLink="/admin-dashboard/timesheets">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V9H3V2a1 1 0 0 1 1-1h5.5v2zM3 12v-2h2v2H3zm0 1h2v2H4a1 1 0 0 1-1-1v-1zm3 2v-2h3v2H6zm4 0v-2h3v1a1 1 0 0 1-1 1h-2zm3-3h-3v-2h3v2zm-7 0v-2h3v2H6z"/>
          </svg>
          View Reports
        </button>
        <button class="action-btn" routerLink="/email-logs">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383-4.708 2.825L15 11.105V5.383zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741zM1 11.105l4.708-2.897L1 5.383v5.722z"/>
          </svg>
          Email Logs
        </button>
      </div>
    </div>
  </div>
</div>